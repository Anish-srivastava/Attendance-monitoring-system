(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{11:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(5155),l=t(2115);let r=e=>{let{onCapture:s,captureIntervalMs:t=null,singleShot:r=!1,isLiveMode:n=!1,facesData:c=[]}=e,d=(0,l.useRef)(null),i=(0,l.useRef)(null),o=(0,l.useRef)(null),[m,x]=(0,l.useState)("stopped"),[h,u]=(0,l.useState)(""),p=async()=>{try{x("loading");let e=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"}});d.current&&(d.current.srcObject=e),x("active")}catch(e){console.error("Camera error:",e),u("Failed to access camera."),x("stopped")}},b=()=>{let e=d.current,t=i.current;if(!e||!t||"active"!==m)return;t.width=e.videoWidth||640,t.height=e.videoHeight||480;let a=t.getContext("2d");a&&(a.drawImage(e,0,0,t.width,t.height),c.forEach(e=>{let[s,t,l,r]=e.box;a.strokeStyle=e.match?"lime":"red",a.lineWidth=2,a.strokeRect(s,t,l,r),e.match?(a.fillStyle="lime",a.font="16px Arial",a.fillText("".concat(e.match.name," (").concat(e.match.user_id,")"),s,t-5)):(a.fillStyle="red",a.font="16px Arial",a.fillText("Unknown",s,t-5))}),s(t.toDataURL("image/jpeg",.8)))};return(0,l.useEffect)(()=>((r||n)&&p(),()=>(()=>{var e;let s=null==(e=d.current)?void 0:e.srcObject;null==s||s.getTracks().forEach(e=>e.stop()),d.current&&(d.current.srcObject=null),o.current&&clearInterval(o.current),x("stopped")})()),[r,n]),(0,l.useEffect)(()=>(o.current&&clearInterval(o.current),t&&n&&"active"===m&&(o.current=setInterval(b,t)),()=>{o.current&&clearInterval(o.current)}),[t,n,m,c]),(0,a.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,a.jsx)("video",{ref:d,autoPlay:!0,muted:!0,playsInline:!0,className:"rounded-lg shadow-md w-full ".concat("active"===m?"block":"hidden"),style:{maxHeight:"360px"}}),(0,a.jsx)("canvas",{ref:i,className:"absolute top-0 left-0 rounded-lg w-full"}),"stopped"===m&&!h&&(0,a.jsx)("button",{onClick:p,className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-blue-600 text-white px-4 py-2 rounded",children:"Start Camera"}),h&&(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-red-600",children:h})]})}},54:(e,s,t)=>{Promise.resolve().then(t.bind(t,8593))},63:(e,s,t)=>{"use strict";var a=t(7260);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},508:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},534:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},590:(e,s,t)=>{"use strict";t.d(s,{S:()=>l});let a="https://attendance-monitoring-system-g96f.onrender.com",l={BASE_URL:a,SIGNUP:"".concat(a,"/api/signup"),SIGNIN:"".concat(a,"/api/signin"),LOGOUT:"".concat(a,"/api/logout"),USER_PROFILE:"".concat(a,"/api/user/profile"),SWITCH_ROLE:"".concat(a,"/api/switch-role"),REGISTER_STUDENT:"".concat(a,"/api/register-student"),STUDENTS:"".concat(a,"/api/students"),STUDENTS_COUNT:"".concat(a,"/api/students/count"),STUDENTS_DEPARTMENTS:"".concat(a,"/api/students/departments"),STUDENTS_SEARCH:"".concat(a,"/api/students/search"),STUDENTS_STATS:"".concat(a,"/api/students/stats"),UPDATE_STUDENT:e=>"".concat(a,"/api/update-student/").concat(e),DELETE_STUDENT:e=>"".concat(a,"/api/delete-student/").concat(e),TEACHER_STUDENTS_SEARCH:"".concat(a,"/api/teacher/students/search"),TEACHER_STUDENT:e=>"".concat(a,"/api/teacher/student/").concat(e),ATTENDANCE:"".concat(a,"/api/attendance"),ATTENDANCE_EXPORT:"".concat(a,"/api/attendance/export"),ATTENDANCE_CREATE_SESSION:"".concat(a,"/api/attendance/create_session"),ATTENDANCE_ACTIVE_SESSIONS:"".concat(a,"/api/attendance/active_sessions"),ATTENDANCE_SESSION_STATUS:e=>"".concat(a,"/api/attendance/session_status/").concat(e),ATTENDANCE_END_SESSION:"".concat(a,"/api/attendance/end_session"),ATTENDANCE_REAL_MARK:"".concat(a,"/api/attendance/real-mark"),ATTENDANCE_SESSION_ATTENDANCE:e=>"".concat(a,"/api/attendance/session/").concat(e,"/attendance"),ATTENDANCE_MODELS_STATUS:"".concat(a,"/api/attendance/models/status"),DEMO_RECOGNIZE:"".concat(a,"/api/demo/recognize"),DEMO_SESSION:"".concat(a,"/api/demo/session"),DEMO_SESSION_LOG:e=>"".concat(a,"/api/demo/session/").concat(e,"/log"),DEMO_MODELS_STATUS:"".concat(a,"/api/demo/models/status"),HEALTH:"".concat(a,"/health")}},1169:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},1847:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var a=t(2115);let l=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},r=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:i="",children:o,iconNode:m,...x}=e;return(0,a.createElement)("svg",{ref:s,...n,width:l,height:l,stroke:t,strokeWidth:d?24*Number(c)/Number(l):c,className:r("lucide",i),...!o&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(x)&&{"aria-hidden":"true"},...x},[...m.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(o)?o:[o]])}),d=(e,s)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:d,...i}=t;return(0,a.createElement)(c,{ref:n,iconNode:s,className:r("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...i})});return t.displayName=l(e),t}},5626:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5664:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},5921:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},8593:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(5155),l=t(2115),r=t(63),n=t(5626),c=t(5664);let d=(0,t(1847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var i=t(1169),o=t(508),m=t(5921),x=t(9e3),h=t(534),u=t(11),p=t(590);function b(){let e=(0,r.useRouter)(),[s,t]=(0,l.useState)(!1),[b,g]=(0,l.useState)(null),[N,j]=(0,l.useState)(null),[f,v]=(0,l.useState)([]),[w,y]=(0,l.useState)(null),[S,A]=(0,l.useState)(!1),[E,T]=(0,l.useState)("idle"),[k,_]=(0,l.useState)(""),[C,D]=(0,l.useState)({}),[I,R]=(0,l.useState)(!1),[O,M]=(0,l.useState)(null),[U,L]=(0,l.useState)(null),H=(0,l.useCallback)(async()=>{A(!0);try{let e=await fetch(p.S.ATTENDANCE_ACTIVE_SESSIONS),s=await e.json();s.success?v(s.sessions||[]):console.error("Failed to fetch sessions:",s.error)}catch(e){console.error("Error fetching sessions:",e)}finally{A(!1)}},[]),P=(0,l.useCallback)(e=>{U&&clearInterval(U);let s=setInterval(async()=>{try{let a=await fetch(p.S.ATTENDANCE_SESSION_STATUS(e)),l=await a.json();l.success&&(M(l.remaining_minutes),("ended"===l.status||l.remaining_minutes<=0)&&(y(null),t(!1),_("Session has ended"),clearInterval(s),L(null),H()))}catch(e){console.error("Error checking session status:",e)}},3e4);L(s)},[U,H]);(0,l.useEffect)(()=>{H();let e=setInterval(H,1e4);return()=>{clearInterval(e),U&&clearInterval(U)}},[H]);let F=(0,l.useCallback)(async e=>{if(s&&(!w||!I))try{let s=w?p.S.ATTENDANCE_REAL_MARK:p.S.DEMO_RECOGNIZE,a=w?{image:e,session_id:w.session_id}:{image:e};w&&!I&&(T("marking"),_("Processing your attendance..."));let l=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),r=await l.json();if(r.success&&r.faces&&r.faces.length>0){let e=r.faces[0];g(e),j(r.processed_image||null),w&&e.match&&(e.already_marked||"duplicate"===e.status?(R(!0),T("error"),_(e.message||"".concat(e.match.name," is already marked present for this session")),t(!1),D(e=>({...e,[w.session_id]:!0}))):"marked_present"===e.status?(R(!0),T("success"),_(e.message||"Attendance marked successfully for ".concat(e.match.name,"!")),t(!1),D(e=>({...e,[w.session_id]:!0}))):(T("error"),_(e.message||"Failed to mark attendance. Please try again.")),setTimeout(()=>{T("idle"),_("")},8e3))}else g(null),j(null),w&&!I&&(T("error"),r.error&&r.error.includes("already marked")?(R(!0),t(!1),_("You have already marked attendance for this session."),D(e=>({...e,[w.session_id]:!0}))):_(r.error||"Failed to mark attendance. Please try again."),setTimeout(()=>{T("idle"),_("")},8e3))}catch(e){console.error(e),w&&!I&&(T("error"),_("Network error. Please check your connection and try again."),setTimeout(()=>{T("idle"),_("")},8e3))}},[s,w,I]);return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[(0,a.jsx)("header",{className:"bg-white/80 backdrop-blur-lg border-b border-slate-200 shadow-sm",children:(0,a.jsx)("div",{className:"px-4 sm:px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"p-2 rounded-lg bg-slate-100 hover:bg-slate-200 transition-colors group",children:(0,a.jsx)(n.A,{className:"w-6 h-6 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg",children:(0,a.jsx)(c.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 tracking-tight",children:w?"Attendance Marking":"Face Recognition Demo"}),(0,a.jsx)("p",{className:"text-slate-600 text-sm font-medium",children:w?"Attending: ".concat(w.subject," - ").concat(w.department):"Live demonstration and testing"})]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl border-2 transition-all ".concat(s?"bg-emerald-50 border-emerald-200 shadow-sm":"bg-slate-100 border-slate-200"),children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s?"bg-emerald-500 animate-pulse":"bg-slate-400")}),(0,a.jsx)("span",{className:"text-sm font-semibold ".concat(s?"text-emerald-700":"text-slate-600"),children:s?"LIVE":"STANDBY"})]})})]})})}),(0,a.jsx)("div",{className:"px-4 sm:px-6 py-4 bg-white/70 border-b border-slate-200",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(d,{className:"w-5 h-5 text-slate-600"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-800",children:"Active Attendance Sessions"}),S&&(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),(0,a.jsx)("button",{onClick:H,className:"px-3 py-2 text-sm bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:"Refresh"})]}),0===f.length?(0,a.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,a.jsx)(i.A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"No active attendance sessions found"}),(0,a.jsx)("p",{className:"text-sm",children:"Teachers haven't started any sessions yet"})]}):(0,a.jsx)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:f.map(e=>(0,a.jsxs)("div",{onClick:()=>{y(e),R(C[e.session_id]||!1),T("idle"),_(""),P(e.session_id)},className:"p-4 rounded-xl border-2 cursor-pointer transition-all ".concat((null==w?void 0:w.session_id)===e.session_id?"border-blue-500 bg-blue-50 shadow-md":"border-slate-200 bg-white hover:border-slate-300 hover:shadow-sm"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-slate-800",children:e.subject}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded-full",children:"Active"})]}),(0,a.jsxs)("div",{className:"space-y-1 text-sm text-slate-600",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Department:"})," ",e.department]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Year:"})," ",e.year]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Division:"})," ",e.division]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Date:"})," ",e.date]}),(null==w?void 0:w.session_id)===e.session_id&&null!==O&&(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Time Left:"}),(0,a.jsxs)("span",{className:"ml-1 ".concat(O<=5?"text-red-600 font-bold":O<=10?"text-amber-600 font-semibold":"text-green-600"),children:[O," minutes"]})]})]}),(null==w?void 0:w.session_id)===e.session_id&&(0,a.jsx)("div",{className:"mt-3 text-sm text-blue-600 font-medium",children:"âœ“ Selected for attendance"})]},e.session_id))}),w&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl border-2 border-blue-200 shadow-md",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-500 rounded-lg",children:(0,a.jsx)(o.A,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:I?"Attendance Completed":"Attendance Mode Active"}),(0,a.jsx)("p",{className:"text-slate-600 text-sm",children:I?"You are already marked present for ".concat(w.subject):"Ready to mark attendance for ".concat(w.subject)})]})]}),k&&(0,a.jsx)("div",{className:"p-3 rounded-lg mb-4 ".concat("success"===E?"bg-green-100 border border-green-200 text-green-800":"error"===E?"bg-red-100 border border-red-200 text-red-800":"bg-blue-100 border border-blue-200 text-blue-800"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["marking"===E&&(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{className:"font-medium",children:k})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600 font-medium",children:"Session:"}),(0,a.jsx)("p",{className:"text-slate-800",children:w.subject})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600 font-medium",children:"Department:"}),(0,a.jsxs)("p",{className:"text-slate-800",children:[w.department," - ",w.year," ",w.division]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600 font-medium",children:"Date:"}),(0,a.jsx)("p",{className:"text-slate-800",children:w.date})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600 font-medium",children:"Time:"}),(0,a.jsx)("p",{className:"text-slate-800",children:w.start_time})]})]}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-white rounded-lg border border-slate-200",children:[(0,a.jsx)("h4",{className:"font-semibold text-slate-800 mb-2",children:"\uD83D\uDCCB How to mark attendance:"}),(0,a.jsxs)("ol",{className:"text-slate-600 text-sm space-y-1",children:[(0,a.jsx)("li",{children:'1. Click "Start Demo" if not already active'}),(0,a.jsx)("li",{children:"2. Position your face clearly in the camera"}),(0,a.jsx)("li",{children:"3. Wait for face recognition to identify you"}),(0,a.jsx)("li",{children:"4. Your attendance will be automatically marked"})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>{y(null),T("idle"),_(""),R(!1)},className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg transition-colors",children:"Cancel Selection"}),I?(0,a.jsxs)("div",{className:"px-4 py-2 bg-green-100 text-green-800 rounded-lg font-medium flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Attendance Marked"]}):s?(0,a.jsxs)("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),"Stop Capture"]}):(0,a.jsxs)("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),"Start Attendance"]})]})]})]})}),(0,a.jsx)("div",{className:"px-4 sm:px-6 py-4 bg-white/50 border-b border-slate-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)("button",{onClick:()=>t(!s),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-3 border-2 ".concat(s?"bg-red-50 hover:bg-red-100 text-red-600 border-red-200 hover:border-red-300 shadow-sm":"bg-emerald-50 hover:bg-emerald-100 text-emerald-600 border-emerald-200 hover:border-emerald-300 shadow-sm"),children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{className:"w-5 h-5"}),"Stop Demo"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{className:"w-5 h-5"}),"Start Demo"]})}),(0,a.jsxs)("button",{onClick:()=>e.push("/dashboard"),className:"px-6 py-3 rounded-xl font-semibold bg-blue-50 hover:bg-blue-100 text-blue-600 border-2 border-blue-200 hover:border-blue-300 transition-all duration-300 flex items-center justify-center gap-3 shadow-sm",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),"Back to Dashboard"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-white border border-slate-200 shadow-sm",children:[(0,a.jsx)("span",{className:"text-slate-600 font-medium",children:"Status:"}),(0,a.jsx)("span",{className:"font-semibold ".concat(s?"text-emerald-600":"text-amber-600"),children:s?"Active":"Inactive"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-white border border-slate-200 shadow-sm",children:[(0,a.jsx)("span",{className:"text-slate-600 font-medium",children:"Last Result:"}),(0,a.jsx)("span",{className:"font-semibold ".concat((null==b?void 0:b.match)?"text-emerald-600":"text-slate-600"),children:(null==b?void 0:b.match)?"Match Found":"No Match"})]})]})]})})}),(0,a.jsx)("main",{className:"p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-purple-200 p-6 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg",children:(0,a.jsx)(c.A,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Camera Feed"})]}),(0,a.jsxs)("div",{className:"relative rounded-xl overflow-hidden bg-slate-100 border-2 border-slate-200",children:[(0,a.jsx)(u.A,{isLiveMode:s,captureIntervalMs:1e3,onCapture:F,facesData:b&&b.box?[{...b,box:b.box}]:[]}),!s&&(0,a.jsx)("div",{className:"absolute inset-0 bg-slate-900/70 flex items-center justify-center backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,a.jsx)(m.A,{className:"w-8 h-8 text-slate-600"})}),(0,a.jsx)("p",{className:"text-white font-semibold",children:"Click Start Demo to begin"})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-blue-200 p-6 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg",children:(0,a.jsx)(h.A,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Recognition Results"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 rounded-xl border-2 transition-all ".concat((null==b?void 0:b.match)?"bg-emerald-50 border-emerald-200 shadow-sm":"bg-slate-50 border-slate-200"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-slate-600 text-sm font-medium",children:"Status"}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat((null==b?void 0:b.match)?"bg-emerald-100 text-emerald-700 border border-emerald-200":"bg-slate-100 text-slate-600 border border-slate-200"),children:(null==b?void 0:b.match)?"MATCH FOUND":"NO MATCH"})]}),(0,a.jsx)("p",{className:"text-slate-800 font-bold",children:(null==b?void 0:b.match)?"Identified: ".concat(b.match.name):"No face recognized"})]}),(null==b?void 0:b.match)&&(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-blue-50 border-2 border-blue-200 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-500 rounded-lg",children:(0,a.jsx)(o.A,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"User Information"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600 text-sm font-medium",children:"Name:"}),(0,a.jsx)("p",{className:"text-slate-800 font-semibold",children:b.match.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600 text-sm font-medium",children:"User ID:"}),(0,a.jsx)("p",{className:"text-slate-800 font-mono text-sm bg-slate-100 px-2 py-1 rounded",children:b.match.user_id})]})]})]}),!(null==b?void 0:b.match)&&s&&(0,a.jsx)("div",{className:"p-6 rounded-xl bg-slate-50 border-2 border-slate-200",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(o.A,{className:"w-6 h-6 text-slate-500"})}),(0,a.jsx)("p",{className:"text-slate-700 font-semibold",children:"No face recognized"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Ensure face is clearly visible in camera"})]})}),(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-gradient-to-br from-slate-50 to-blue-50 border-2 border-slate-200",children:[(0,a.jsx)("h4",{className:"text-slate-800 font-bold mb-3",children:w?"Attendance Instructions:":"How it works:"}),(0,a.jsxs)("ul",{className:"text-slate-600 text-sm space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),w?"Click 'Start Demo' to begin attendance marking":"Click 'Start Demo' to begin face recognition"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"Position your face clearly in the camera view"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),w?"Your attendance will be automatically marked":"Results will appear here in real-time"]}),(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),w?"Wait for confirmation message":"Click 'Stop Demo' to end the session"]})]})]})]})]})]}),N&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-cyan-200 p-6 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-xl shadow-lg",children:(0,a.jsx)(c.A,{className:"w-5 h-5 text-white"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Processed Image"})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"rounded-xl overflow-hidden bg-slate-100 border-2 border-slate-200 max-w-2xl shadow-lg",children:(0,a.jsx)("img",{src:N,alt:"Processed",className:"w-full h-auto max-h-96 object-contain"})})}),(0,a.jsx)("p",{className:"text-slate-600 text-sm mt-4 text-center",children:"AI-processed image with face detection and recognition overlay"})]})]})})]})}},9e3:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])}},e=>{e.O(0,[441,255,358],()=>e(e.s=54)),_N_E=e.O()}]);